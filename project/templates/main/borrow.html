{% extends 'main/formlayout.html' %}

{% block main %}
<link rel="stylesheet" href="../static/css/borrowform.css">
<div class="d-flex justify-content-center align-items-center">
    <script src="../static/js/cart.js"></script>
    <script src="../static/js/form.js"></script>
    <div class="backtotop text-center">
        <span class="backtotopper"></span>
        <span class="text-center" style="font-size: 12px;">Back to top</span>
    </div>
    <div class="floating-button">
        <a href="/borrowcart"><button class="text-white cartbutton" type="submit">
            <span class="viewcartbutton"><i class="bi bi-cart3"></i></span>
        </button></a>
</div>
    <div class="container" style="height: 100%;">
        <h3>Borrow a Book</h3>
        <hr>
            {% with messages = get_flashed_messages(with_categories=true) %}
                {% if messages %}
                    {% for category, message in messages %}
                        {% if category == 'danger' %}
                            <div class="alert alert-{{ category }} alert-dismissible fade show my-1" role="alert">
                                <i class="bi bi-hand-thumbs-down-fill text-dark mx-3"></i>{{ message }}
                                <button type="button" class="btn-close" data-bs-dismiss="alert" aria-label="Close"></button>
                            </div>
                        {% elif category == 'success' %}    
                            <div class="alert alert-{{ category }} alert-dismissible fade show my-1" role="alert">
                                <i class="bi bi-hand-thumbs-up-fill text-dark mx-3"></i>{{ message }}
                                <button type="button" class="btn-close" data-bs-dismiss="alert" aria-label="Close"></button>
                            </div>
                        {% endif %}    
                    {% endfor %}
                {% endif %}
            {% endwith %} 
        <h6>First step, look for the book that you want. Please fill out the form below with the details you know.</h6>
        <h6>You can add additional search parameters by clicking the plus sign buttons provided below.</h6>
        <br>
        <form action="/borrow" method="POST">
            <div class="form-row col-10 d-flex flex-column justify-content-center align-center-center">
                <label for="bookname" id="booknamelabel">
                    <input class="form-control border border-dark booktitle" autocomplete="off" type="text" name="bookname" id="bookname" placeholder="Book Title">
                </label>
                <label for="bookauthor" id="bookauthorlabel">
                    <input class="form-control border border-dark bookauthor" type="text" name="bookauthor" id="bookauthor" placeholder="Book Author">
                </label>
                <label for="bookgenre" id="bookgenrelabel">
                    <input class="form-control border border-dark bookgenre" type="text" name="bookgenre" id="bookgenre" placeholder="Book Genre">
                </label>
                <label for="bookyear" id="bookyearlabel">
                    <input class="form-control border border-dark bookyear" type="text" name="bookyear" id="bookyear" placeholder="Publishing Year">
                </label>
                <button class="btn d-flex justify-content-start mt-1 align-items-center authorbtn" type="button"><svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-plus-circle me-2" viewBox="0 0 16 16">
                <path d="M8 15A7 7 0 1 1 8 1a7 7 0 0 1 0 14zm0 1A8 8 0 1 0 8 0a8 8 0 0 0 0 16z"/>
                <path d="M8 4a.5.5 0 0 1 .5.5v3h3a.5.5 0 0 1 0 1h-3v3a.5.5 0 0 1-1 0v-3h-3a.5.5 0 0 1 0-1h3v-3A.5.5 0 0 1 8 4z"/>
                </svg>Author</button>
                <button class="btn d-flex justify-content-start mt-1 align-items-center genrebtn" type="button"><svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-plus-circle me-2" viewBox="0 0 16 16">
                <path d="M8 15A7 7 0 1 1 8 1a7 7 0 0 1 0 14zm0 1A8 8 0 1 0 8 0a8 8 0 0 0 0 16z"/>
                <path d="M8 4a.5.5 0 0 1 .5.5v3h3a.5.5 0 0 1 0 1h-3v3a.5.5 0 0 1-1 0v-3h-3a.5.5 0 0 1 0-1h3v-3A.5.5 0 0 1 8 4z"/>
                </svg>Genre</button>
                <button class="btn d-flex justify-content-start mt-1 align-items-center yearbtn" type="button"><svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-plus-circle me-2" viewBox="0 0 16 16">
                <path d="M8 15A7 7 0 1 1 8 1a7 7 0 0 1 0 14zm0 1A8 8 0 1 0 8 0a8 8 0 0 0 0 16z"/>
                <path d="M8 4a.5.5 0 0 1 .5.5v3h3a.5.5 0 0 1 0 1h-3v3a.5.5 0 0 1-1 0v-3h-3a.5.5 0 0 1 0-1h3v-3A.5.5 0 0 1 8 4z"/>
                </svg>Publishing Year</button>
            </div>
            <div class="form-row me-2 my-lg-3 my-md-3 my-3">
                <input type="hidden" name="csrf_token" value="{{ csrf_token() }}">
                <button type="submit" class="mainbutton mt-2">Search</button>
            </div>
        </form>
    </div>
</div>
{% endblock %}